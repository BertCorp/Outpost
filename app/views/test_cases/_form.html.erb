<%= form_for(@test_case, html: { class: 'form-standard' }) do |f| %>
  <% if @test_case.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@test_case.errors.count, "error") %> prohibited this test_case from being saved:</h2>

      <ul>
      <% @test_case.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
  <div class="row">
    <div><%= f.label :title, "Test Case Title" %><br />
    <span class="help-block">Add A Descriptive Title (i.e. Test a user can signup.)</span>
    <%= f.text_field :title, class: "form-control" %></div><br />

    <div><%= f.label :description, "Test Case Description" %><br />
    <span class="help-block">Provide any additional info on how to complete this task. (i.e. This can only be done on staging.)</span>
    <%= f.text_area :description, class: "form-control" %></div>

    <% if current_user.is_admin? %>
      <hr>
      <span class="help-block">Admin Only Fields</span>
    
      <div><%= f.label :company_id %><br />
      <%= f.select :company_id, Company.all.collect {|c| [ c.name, c.id ] }, include_blank: true %></div>
    
      <div><%= f.label :test_suite_id %><br />
      <%= f.select :test_suite_id, TestSuite.all.collect {|t_s| [ t_s.id ] }, include_blank: true %></div>
  
      <div><%= f.label :setup_started_at %><br />
      <%= f.text_field :setup_started_at, class: "form-control", placeholder: "YYYY-MM-DD HH:MM" %></div>

      <div><%= f.label :setup_completed_at %><br />
      <%= f.text_field :setup_completed_at, class: "form-control", placeholder: "YYYY-MM-DD HH:MM" %></div>

      <div><%= f.label :pending_message %><br />
      <%= f.text_area :pending_message, class: "form-control", placeholder: "Test not setup, What seems to be the holdup?" %></div>
  
    <% else %>
      <%= f.hidden_field :test_suite_id, value: current_user.company.test_suite.id %>
      <%= f.hidden_field :company_id, value: current_user.company.id %>
    <% end %>

    <div class="actions"><br />
      <%= f.submit 'Create Test Case', class: "btn btn-lg btn-primary" %>
    </div>
  <% end %>
  </div>
